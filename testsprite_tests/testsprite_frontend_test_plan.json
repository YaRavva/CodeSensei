[
  {
    "id": "TC001",
    "title": "User Registration Success",
    "description": "Verify that new users can successfully register with valid email and password, and their role is set correctly.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the /register page."
      },
      {
        "type": "action",
        "description": "Fill in the registration form with valid email, password, and other required fields."
      },
      {
        "type": "action",
        "description": "Submit the registration form."
      },
      {
        "type": "assertion",
        "description": "Verify that the user is registered, receives confirmation, and redirected to /modules or /dashboard according to role."
      }
    ]
  },
  {
    "id": "TC002",
    "title": "User Registration Failure with Invalid Data",
    "description": "Verify registration fails with invalid email formats, weak passwords or missing required fields.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the /register page."
      },
      {
        "type": "action",
        "description": "Input invalid email formats (e.g., missing '@', missing domain)."
      },
      {
        "type": "action",
        "description": "Input weak passwords (e.g., less than required length)."
      },
      {
        "type": "action",
        "description": "Leave required fields empty."
      },
      {
        "type": "action",
        "description": "Submit registration form."
      },
      {
        "type": "assertion",
        "description": "Verify form shows appropriate validation errors and registration is prevented."
      }
    ]
  },
  {
    "id": "TC003",
    "title": "User Login Success",
    "description": "Verify that registered users can login successfully using valid credentials.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the /login page."
      },
      {
        "type": "action",
        "description": "Input valid email and password."
      },
      {
        "type": "action",
        "description": "Click the login button."
      },
      {
        "type": "assertion",
        "description": "Verify user is authenticated and redirected to /modules or user dashboard."
      }
    ]
  },
  {
    "id": "TC004",
    "title": "User Login Failure with Incorrect Credentials",
    "description": "Verify that login fails with invalid email or password combinations.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to the /login page."
      },
      {
        "type": "action",
        "description": "Input invalid email or password."
      },
      {
        "type": "action",
        "description": "Click the login button."
      },
      {
        "type": "assertion",
        "description": "Verify error message is displayed and user remains on login page."
      }
    ]
  },
  {
    "id": "TC005",
    "title": "Access Control for Protected Routes",
    "description": "Verify that unauthenticated users cannot access protected routes and authenticated users have access according to their role.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Try to access /dashboard, /modules, /profile, /leaderboard, and /admin pages without authentication."
      },
      {
        "type": "assertion",
        "description": "Verify user is redirected to /login for all protected routes."
      },
      {
        "type": "action",
        "description": "Login as a student user."
      },
      {
        "type": "action",
        "description": "Access student-capable routes (/dashboard, /modules, /leaderboard, /profile)."
      },
      {
        "type": "assertion",
        "description": "Verify access is granted."
      },
      {
        "type": "action",
        "description": "Attempt to access admin routes (/admin/*) as student."
      },
      {
        "type": "assertion",
        "description": "Verify access denied or redirect to unauthorized page."
      },
      {
        "type": "action",
        "description": "Login as admin and access admin routes."
      },
      {
        "type": "assertion",
        "description": "Verify access granted to admin panel and CRUD operations."
      }
    ]
  },
  {
    "id": "TC006",
    "title": "Module Listing and Filtering",
    "description": "Verify that modules are listed correctly on /modules and filters and sorting work as expected.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as a student and navigate to /modules."
      },
      {
        "type": "assertion",
        "description": "Verify list of modules is displayed with correct titles and descriptions."
      },
      {
        "type": "action",
        "description": "Apply filters (e.g., difficulty level, completion status)."
      },
      {
        "type": "assertion",
        "description": "Verify displayed modules match filter criteria."
      },
      {
        "type": "action",
        "description": "Change sorting options (e.g., alphabetic, popularity)."
      },
      {
        "type": "assertion",
        "description": "Verify modules are sorted accordingly."
      },
      {
        "type": "action",
        "description": "Test with no matching filters."
      },
      {
        "type": "assertion",
        "description": "Verify empty state is shown with appropriate message."
      }
    ]
  },
  {
    "id": "TC007",
    "title": "Module Details and Theory Content Display",
    "description": "Verify the detailed module page shows theory content and list of tasks properly.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to a valid /modules/[moduleId] page."
      },
      {
        "type": "assertion",
        "description": "Verify theory content is displayed correctly with proper formatting."
      },
      {
        "type": "assertion",
        "description": "Verify list of tasks for the module is visible."
      },
      {
        "type": "action",
        "description": "Click on task link."
      },
      {
        "type": "assertion",
        "description": "Verify navigation to /modules/[moduleId]/tasks/[taskId]."
      }
    ]
  },
  {
    "id": "TC008",
    "title": "Code Editor Initialization and Basic Input",
    "description": "Verify the Monaco code editor initializes correctly on task pages and accepts user input.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to a task page /modules/[moduleId]/tasks/[taskId]."
      },
      {
        "type": "assertion",
        "description": "Verify Monaco Editor loads without errors."
      },
      {
        "type": "action",
        "description": "Type valid Python code snippet into the editor."
      },
      {
        "type": "assertion",
        "description": "Verify input is accepted and syntax highlighting appears."
      }
    ]
  },
  {
    "id": "TC009",
    "title": "Code Execution with Pyodide Success",
    "description": "Verify that Python code entered in the editor executes successfully using Pyodide and returns correct output.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Enter correct Python code that produces output (e.g., print statement) in the editor."
      },
      {
        "type": "action",
        "description": "Execute code through CodeRunner."
      },
      {
        "type": "assertion",
        "description": "Verify output matches expected result and no errors occur."
      }
    ]
  },
  {
    "id": "TC010",
    "title": "Code Execution Error Handling",
    "description": "Verify that code execution errors (syntax or runtime) are properly displayed to the user.",
    "category": "error handling",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Enter Python code with syntax error."
      },
      {
        "type": "action",
        "description": "Execute code."
      },
      {
        "type": "assertion",
        "description": "Verify syntax error message is shown clearly."
      },
      {
        "type": "action",
        "description": "Enter code that triggers runtime error (e.g., division by zero)."
      },
      {
        "type": "action",
        "description": "Execute code."
      },
      {
        "type": "assertion",
        "description": "Verify runtime error message is displayed."
      }
    ]
  },
  {
    "id": "TC011",
    "title": "Submit Task Solution and Receive AI Evaluation",
    "description": "Verify that after submitting code solution, the server provides AI evaluation with detailed feedback.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Submit Python code solution using the /api/tasks/evaluate endpoint."
      },
      {
        "type": "assertion",
        "description": "Verify that AI evaluation response is received and feedback is displayed."
      },
      {
        "type": "assertion",
        "description": "Verify feedback includes correctness, suggestions for improvements, and explanation."
      }
    ]
  },
  {
    "id": "TC012",
    "title": "XP Accrual on Task Completion",
    "description": "Verify correct XP amount is awarded for task completion and user progress updates.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Complete a task and trigger XP award via /api/tasks/award-xp."
      },
      {
        "type": "assertion",
        "description": "Verify XP is added correctly depending on task difficulty (10, 20, or 30 XP)."
      },
      {
        "type": "assertion",
        "description": "Verify user's level updates accordingly if XP thresholds pass."
      },
      {
        "type": "action",
        "description": "Navigate to /dashboard to check updated XP and level."
      },
      {
        "type": "assertion",
        "description": "Verify updated XP, level, and relevant achievements are displayed."
      }
    ]
  },
  {
    "id": "TC013",
    "title": "AI Hint Request Limits Enforcement",
    "description": "Verify AI hint requests per user respect the configured limit and proper error message is shown when exceeded.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Request AI hint for a task via /api/ai/hint repeatedly until limit is reached."
      },
      {
        "type": "assertion",
        "description": "Verify valid hints are returned while under limit."
      },
      {
        "type": "action",
        "description": "Request AI hint after limit exceeded."
      },
      {
        "type": "assertion",
        "description": "Verify API returns error or message stating hint limit reached."
      }
    ]
  },
  {
    "id": "TC014",
    "title": "Leaderboard Filtering and Ranking",
    "description": "Verify the global leaderboard shows users ranked by XP with correct filtering options.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Navigate to /leaderboard."
      },
      {
        "type": "assertion",
        "description": "Verify users are displayed in descending order by XP."
      },
      {
        "type": "action",
        "description": "Apply filters (e.g., by class, time period)."
      },
      {
        "type": "assertion",
        "description": "Verify leaderboard updates correctly respecting filters."
      },
      {
        "type": "action",
        "description": "Verify user's own position is highlighted on the leaderboard."
      }
    ]
  },
  {
    "id": "TC015",
    "title": "Admin Panel Module Creation and Editing",
    "description": "Verify that admins can create, update, and delete modules through the admin panel and related API endpoints.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as an admin user."
      },
      {
        "type": "action",
        "description": "Navigate to /admin/modules."
      },
      {
        "type": "action",
        "description": "Create a new module using the admin form."
      },
      {
        "type": "assertion",
        "description": "Verify the module appears in the modules list and database."
      },
      {
        "type": "action",
        "description": "Edit an existing module's details."
      },
      {
        "type": "assertion",
        "description": "Verify changes are saved and reflected."
      },
      {
        "type": "action",
        "description": "Delete a module via API or admin UI."
      },
      {
        "type": "assertion",
        "description": "Verify module is removed from system."
      }
    ]
  },
  {
    "id": "TC016",
    "title": "Admin Panel Task Creation and Editing",
    "description": "Verify admins can create and update tasks within modules via admin panel.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login as admin."
      },
      {
        "type": "action",
        "description": "Navigate to /admin/modules/[moduleId]/edit."
      },
      {
        "type": "action",
        "description": "Create a task within the module."
      },
      {
        "type": "assertion",
        "description": "Verify task is created and listed."
      },
      {
        "type": "action",
        "description": "Edit task details via /admin/tasks/[taskId]/edit page."
      },
      {
        "type": "assertion",
        "description": "Verify updates are saved and visible."
      }
    ]
  },
  {
    "id": "TC017",
    "title": "AI Content Generation and Moderation Workflow",
    "description": "Verify AI-generated modules and tasks undergo proper moderation and only approved content are published.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Trigger AI-generated module via /api/ai/generate-module."
      },
      {
        "type": "assertion",
        "description": "Verify content is generated and stored as pending moderation."
      },
      {
        "type": "action",
        "description": "Perform moderation actions (approve/reject) as admin."
      },
      {
        "type": "assertion",
        "description": "Verify only approved content is published to users."
      },
      {
        "type": "action",
        "description": "Repeat similarly for AI-generated tasks via /api/ai/generate-task."
      }
    ]
  },
  {
    "id": "TC018",
    "title": "Session Management and Sign Out",
    "description": "Verify user sessions are properly set on login and can be cleared on logout.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Login and verify session is created via /api/auth/set-session."
      },
      {
        "type": "assertion",
        "description": "Verify user remains authenticated on page reload."
      },
      {
        "type": "action",
        "description": "Logout using /api/auth/signout."
      },
      {
        "type": "assertion",
        "description": "Verify session is cleared and access to protected pages is blocked."
      }
    ]
  },
  {
    "id": "TC019",
    "title": "Gamification Achievements Display and Notifications",
    "description": "Verify achievements are earned under correct conditions and are displayed with notifications.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Perform actions that meet achievement criteria (complete tasks, reach XP thresholds)."
      },
      {
        "type": "assertion",
        "description": "Verify achievements are awarded and appear in user's profile and dashboard."
      },
      {
        "type": "assertion",
        "description": "Verify notifications or alerts are shown when achievements are unlocked."
      }
    ]
  },
  {
    "id": "TC020",
    "title": "Performance Test: Code Execution and UI Responsiveness",
    "description": "Verify the performance of code execution via Pyodide and UI responsiveness under normal and peak load.",
    "category": "performance",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Execute various code samples in the code editor including complex computations."
      },
      {
        "type": "assertion",
        "description": "Verify execution completes within acceptable time limits."
      },
      {
        "type": "action",
        "description": "Simulate multiple users accessing modules, code editors, and leaderboards simultaneously."
      },
      {
        "type": "assertion",
        "description": "Verify UI remains responsive and API latency stays within acceptable thresholds."
      }
    ]
  },
  {
    "id": "TC021",
    "title": "Security: Safe Execution Environment",
    "description": "Verify that code execution is sandboxed and does not allow malicious or unsafe operations.",
    "category": "security",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Attempt to execute code that tries to access browser APIs, file system, or network operations."
      },
      {
        "type": "assertion",
        "description": "Verify code execution environment blocks unsafe operations and no security breaches occur."
      }
    ]
  }
]
